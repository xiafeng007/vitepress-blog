import{_ as s,o as n,c as a,a as l}from"./app.a8363bcc.js";const i=JSON.parse('{"title":"0\u3001vue3\u4E2D\u4F7F\u7528\u8FC7\u7684\u4E00\u4E9B\u63D2\u4EF6","description":"","frontmatter":{},"headers":[{"level":3,"title":"0\u3001vue3\u4E2D\u4F7F\u7528\u8FC7\u7684\u4E00\u4E9B\u63D2\u4EF6","slug":"_0\u3001vue3\u4E2D\u4F7F\u7528\u8FC7\u7684\u4E00\u4E9B\u63D2\u4EF6"},{"level":2,"title":"1\u3001vue3 \u4E2D watch \u8BE6\u89E3","slug":"_1\u3001vue3-\u4E2D-watch-\u8BE6\u89E3"},{"level":2,"title":"2\u3001vue 3 \u5168\u5C40\u51FD\u6570\u6216\u8005\u5168\u5C40\u53D8\u91CF\u6CE8\u5165","slug":"_2\u3001vue-3-\u5168\u5C40\u51FD\u6570\u6216\u8005\u5168\u5C40\u53D8\u91CF\u6CE8\u5165"},{"level":2,"title":"3\u3001vite \u521B\u5EFA vue \u9879\u76EE","slug":"_3\u3001vite-\u521B\u5EFA-vue-\u9879\u76EE"},{"level":2,"title":"4\u3001vue2 \u4E2D\u7684 this.$refs.form.validate \u8868\u5355\u9A8C\u8BC1 ref \u4F7F\u7528","slug":"_4\u3001vue2-\u4E2D\u7684-this-refs-form-validate-\u8868\u5355\u9A8C\u8BC1-ref-\u4F7F\u7528"},{"level":2,"title":"5\u3001\u5B50\u7EC4\u4EF6\u4E2D\u5982\u4F55\u8C03\u7528\u7236\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u7684\u51FD\u6570\u901A\u8FC7 context.emit","slug":"_5\u3001\u5B50\u7EC4\u4EF6\u4E2D\u5982\u4F55\u8C03\u7528\u7236\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u7684\u51FD\u6570\u901A\u8FC7-context-emit"},{"level":2,"title":"6\u3001vue2 \u4E2D.sync \u4E0E\u5B50\u7EC4\u4EF6\u6570\u636E\u53CC\u5411\u901A\u4FE1\uFF0C\u7528 vue3 \u4E2D\u7684 v-model \u66FF\u6362","slug":"_6\u3001vue2-\u4E2D-sync-\u4E0E\u5B50\u7EC4\u4EF6\u6570\u636E\u53CC\u5411\u901A\u4FE1\uFF0C\u7528-vue3-\u4E2D\u7684-v-model-\u66FF\u6362"},{"level":2,"title":"7\u3001\u4E8B\u4EF6\u603B\u7EBF\u7684\u4F7F\u7528\uFF08npm install emittery -S\uFF09","slug":"_7\u3001\u4E8B\u4EF6\u603B\u7EBF\u7684\u4F7F\u7528\uFF08npm-install-emittery-s\uFF09"},{"level":2,"title":"defineExpose \u5C06\u5B50\u7EC4\u4EF6\u65B9\u6CD5\u6216\u5C5E\u6027\uFF0C\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u8C03\u7528","slug":"defineexpose-\u5C06\u5B50\u7EC4\u4EF6\u65B9\u6CD5\u6216\u5C5E\u6027\uFF0C\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u8C03\u7528"},{"level":2,"title":"vue3 keepalive \u7F13\u5B58","slug":"vue3-keepalive-\u7F13\u5B58"}],"relativePath":"javascript/2022-05-12-vue3.md","lastUpdated":1661436303000}'),p={name:"javascript/2022-05-12-vue3.md"},o=l(`<h3 id="_0\u3001vue3\u4E2D\u4F7F\u7528\u8FC7\u7684\u4E00\u4E9B\u63D2\u4EF6" tabindex="-1">0\u3001vue3\u4E2D\u4F7F\u7528\u8FC7\u7684\u4E00\u4E9B\u63D2\u4EF6 <a class="header-anchor" href="#_0\u3001vue3\u4E2D\u4F7F\u7528\u8FC7\u7684\u4E00\u4E9B\u63D2\u4EF6" aria-hidden="true">#</a></h3><ul><li>v-contextmenu \u9F20\u6807\u53F3\u952E\u4E8B\u4EF6\u89E6\u53D1\u5F39\u7A97 <ul><li><a href="https://github.com/heynext/v-contextmenu" target="_blank" rel="noreferrer">https://github.com/heynext/v-contextmenu</a></li></ul></li><li>vuex-persistedstate \u5BF9vuex\u4E2D\u7684\u6570\u636E\u8FDB\u884C\u7F13\u5B58\u5904\u7406\uFF08LocalStorage\u3001SessionStorage\uFF09 <ul><li><a href="https://github.com/robinvdvleuten/vuex-persistedstate" target="_blank" rel="noreferrer">https://github.com/robinvdvleuten/vuex-persistedstate</a></li></ul></li><li>treeSelect \u4E0B\u62C9\u6811\u63A7\u4EF6 <ul><li><a href="https://github.com/megafetis/vue3-treeselect" target="_blank" rel="noreferrer">https://github.com/megafetis/vue3-treeselect</a></li></ul></li><li>swiper \u8F6E\u64AD\u56FE\u6700\u5F3A\u63D2\u4EF6 <ul><li><a href="https://github.com/nolimits4web/swiper" target="_blank" rel="noreferrer">https://github.com/nolimits4web/swiper</a></li></ul></li></ul><h2 id="_1\u3001vue3-\u4E2D-watch-\u8BE6\u89E3" tabindex="-1">1\u3001vue3 \u4E2D watch \u8BE6\u89E3 <a class="header-anchor" href="#_1\u3001vue3-\u4E2D-watch-\u8BE6\u89E3" aria-hidden="true">#</a></h2><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// watch \u76D1\u63A7props\u4E2D\u7684\u503C</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">/*</span></span>
<span class="line"><span style="color:#676E95;">  immediate \u9ED8\u8BA4\u503C\u4E3A false,\u5219\u7B2C\u4E00\u6B21\u4E0D\u4F1A\u76D1\u542C watch \u7684\u6267\u884C</span></span>
<span class="line"><span style="color:#676E95;">  immediate \u8BBE\u7F6E\u4E3A true,\u5219\u7B2C\u4E00\u6B21\u4E5F\u4F1A\u76D1\u542C watch \u7684\u6267\u884C</span></span>
<span class="line"><span style="color:#676E95;">  watch \u4F4D\u4E8E\u5B50\u7EC4\u4EF6\u4E2D\u65F6\uFF0C\u5B50\u7EC4\u4EF6\u901A\u8FC7 v-if \u548C v-show \u63A7\u5236\u663E\u793A\u65F6</span></span>
<span class="line"><span style="color:#676E95;">*/</span></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">changeName</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">watch-changeName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">immediate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// watch \u76D1\u63A7route\u8DEF\u7531\u4E2D\u7684\u503C</span></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> route</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">route</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">watch-path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">immediate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// watch \u76D1\u63A7vuex store\u4ED3\u5E93\u4E2D\u7684\u503C</span></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> store</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">headerMenu</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">watch-store</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">immediate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// watch \u76D1\u63A7ref\u5B9A\u4E49\u7684\u503C</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(state</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">watch-ref</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">immediate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// watch \u76D1\u63A7reactive\u5B9A\u4E49\u7684\u503C</span></span>
<span class="line"><span style="color:#676E95;">// watch \u76D1\u63A7ref\u5B9A\u4E49\u7684\u503C</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">newValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">watch-reactive</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">immediate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="_2\u3001vue-3-\u5168\u5C40\u51FD\u6570\u6216\u8005\u5168\u5C40\u53D8\u91CF\u6CE8\u5165" tabindex="-1">2\u3001vue 3 \u5168\u5C40\u51FD\u6570\u6216\u8005\u5168\u5C40\u53D8\u91CF\u6CE8\u5165 <a class="header-anchor" href="#_2\u3001vue-3-\u5168\u5C40\u51FD\u6570\u6216\u8005\u5168\u5C40\u53D8\u91CF\u6CE8\u5165" aria-hidden="true">#</a></h2><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// \u5168\u5C40\u51FD\u6570\u6CE8\u5165</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#A6ACCD;">(App)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">globalProperties</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$filters </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">currencyUSD</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">currencyUSD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u5728\u7EC4\u4EF6\u4E2D\u5982\u4F55\u8C03\u7528</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">getCurrentInstance</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ctx</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> proxy </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> getCurrentInstance</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;">// \u5F00\u53D1\u73AF\u5883\u4E2Dctx\u548Cproxy\u90FD\u53EF\u4EE5\u8C03\u7528\u5230\u51FD\u6570</span></span>
<span class="line"><span style="color:#676E95;">// \u90E8\u7F72\u540E\u53D1\u73B0ctx\u8C03\u7528\u7684\u51FD\u6570\u4E3Aundefined\uFF0C</span></span>
<span class="line"><span style="color:#676E95;">/// \u6240\u4EE5\u6B64\u5904\u6682\u65F6\u7528proxy\u4EE3\u7406\uFF0C\u5C24\u5927\u652F\u51FA\u5C11\u7528proxy</span></span>
<span class="line"><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$filters</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currencyUSD</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sssss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">proxy</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$filters</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currencyUSD</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sssss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="_3\u3001vite-\u521B\u5EFA-vue-\u9879\u76EE" tabindex="-1">3\u3001vite \u521B\u5EFA vue \u9879\u76EE <a class="header-anchor" href="#_3\u3001vite-\u521B\u5EFA-vue-\u9879\u76EE" aria-hidden="true">#</a></h2><ul><li>\u6211\u5E73\u5E38\u4E60\u60EF\u7528 yarn\uFF0C\u4E0D\u8FC7\u7528 yarn \u521B\u5EFA\u9879\u76EE\u7684\u65F6\u5019\u62A5\u9519\uFF0C\u7528 npm \u662F\u6CA1\u95EE\u9898\u7684</li><li>yarn create @vitejs/app dvs-platform --template vue</li><li>npm init @vitejs/app dvs-platform -- --template vue</li></ul><h2 id="_4\u3001vue2-\u4E2D\u7684-this-refs-form-validate-\u8868\u5355\u9A8C\u8BC1-ref-\u4F7F\u7528" tabindex="-1">4\u3001vue2 \u4E2D\u7684 this.$refs.form.validate \u8868\u5355\u9A8C\u8BC1 ref \u4F7F\u7528 <a class="header-anchor" href="#_4\u3001vue2-\u4E2D\u7684-this-refs-form-validate-\u8868\u5355\u9A8C\u8BC1-ref-\u4F7F\u7528" aria-hidden="true">#</a></h2><p>\u8BB0\u4F4FformDom\u8981\u5728setup\u6700\u540E return\u51FA\u6765\uFF0C\u8981\u4E0D\u7136\u4E00\u76F4\u6709\u95EE\u9898</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">el-form</span><span style="color:#89DDFF;"> :model=&quot;formConfig.formData&quot; </span><span style="color:#C792EA;">label-width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">120px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">formDom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">el-form</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">el-button</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">size</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">large</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">primary</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">margin-left: 120px; height: 50px</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        @click=&quot;submitForm&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">native-type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">submit</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">      &gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        \u63D0\u4EA4</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">el-button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">setup</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">formDom</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">submitForm</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">formDom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">validate</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">valid</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">valid</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">valid</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">this.valid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">valid</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u9A8C\u8BC1\u5931\u8D25</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">formDom</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_5\u3001\u5B50\u7EC4\u4EF6\u4E2D\u5982\u4F55\u8C03\u7528\u7236\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u7684\u51FD\u6570\u901A\u8FC7-context-emit" tabindex="-1">5\u3001\u5B50\u7EC4\u4EF6\u4E2D\u5982\u4F55\u8C03\u7528\u7236\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u7684\u51FD\u6570\u901A\u8FC7 context.emit <a class="header-anchor" href="#_5\u3001\u5B50\u7EC4\u4EF6\u4E2D\u5982\u4F55\u8C03\u7528\u7236\u7EC4\u4EF6\u4E2D\u5B9A\u4E49\u7684\u51FD\u6570\u901A\u8FC7-context-emit" aria-hidden="true">#</a></h2><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u7236\u7EC4\u4EF6\u4E2D\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">HelloWorld</span><span style="color:#89DDFF;"> @hello=&quot;sayHello&quot; /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  export default defineComponent(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">setup</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          const </span><span style="color:#F07178;">sayHello</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">params</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">          return {sayHello</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u5B50\u7EC4\u4EF6\u4E2D\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> @click=&quot;say&quot;&gt;\u4F60\u597D&lt;/div&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">import</span><span style="color:#89DDFF;"> {</span><span style="color:#A6ACCD;"> defineComponent </span><span style="color:#89DDFF;">} </span><span style="color:#C792EA;">from</span><span style="color:#89DDFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">export</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">default</span><span style="color:#89DDFF;"> defineComponent({</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;"> (props, context) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    const </span><span style="color:#82AAFF;">say</span><span style="color:#A6ACCD;"> () </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      context.emit(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">hello \u6211\u65F6\u5B50\u7EC4\u4EF6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)  </span><span style="color:#676E95;">// \u8C03\u7528\u7236\u7EC4\u4EF6\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#F07178;">    }</span></span>
<span class="line"><span style="color:#F07178;">    return {</span></span>
<span class="line"><span style="color:#F07178;">      say</span></span>
<span class="line"><span style="color:#F07178;">    }</span></span>
<span class="line"><span style="color:#F07178;">  }</span></span>
<span class="line"><span style="color:#F07178;">})</span></span>
<span class="line"><span style="color:#F07178;">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="_6\u3001vue2-\u4E2D-sync-\u4E0E\u5B50\u7EC4\u4EF6\u6570\u636E\u53CC\u5411\u901A\u4FE1\uFF0C\u7528-vue3-\u4E2D\u7684-v-model-\u66FF\u6362" tabindex="-1">6\u3001vue2 \u4E2D.sync \u4E0E\u5B50\u7EC4\u4EF6\u6570\u636E\u53CC\u5411\u901A\u4FE1\uFF0C\u7528 vue3 \u4E2D\u7684 v-model \u66FF\u6362 <a class="header-anchor" href="#_6\u3001vue2-\u4E2D-sync-\u4E0E\u5B50\u7EC4\u4EF6\u6570\u636E\u53CC\u5411\u901A\u4FE1\uFF0C\u7528-vue3-\u4E2D\u7684-v-model-\u66FF\u6362" aria-hidden="true">#</a></h2><pre><code>\`\`\`javascript

    // \u7236\u7EC4\u4EF6\u4E2D\u5F15\u7528\u5B50\u7EC4\u4EF6\u7684\u4F20\u503C\u901A\u8FC7v-model
    &lt;vue-json-editor
      v-model:value=&quot;formConfig&quot;
      :options=&quot;options&quot;
      :plus=&quot;false&quot;
      height=&quot;800px&quot;
    /&gt;

    // \u5728\u5B50\u7EC4\u4EF6\u4E2D\u60F3\u6539\u53D8\u7236\u7EC4\u4EF6\u4E2D\u7684value\u65F6
    setup(props,context) {
      context.emit(&#39;update:value&#39;, &#39;\u5B50\u7EC4\u4EF6\u7684\u53D8\u91CF\u503C&#39;)
    }
\`\`\`
</code></pre><h2 id="_7\u3001\u4E8B\u4EF6\u603B\u7EBF\u7684\u4F7F\u7528\uFF08npm-install-emittery-s\uFF09" tabindex="-1">7\u3001\u4E8B\u4EF6\u603B\u7EBF\u7684\u4F7F\u7528\uFF08npm install emittery -S\uFF09 <a class="header-anchor" href="#_7\u3001\u4E8B\u4EF6\u603B\u7EBF\u7684\u4F7F\u7528\uFF08npm-install-emittery-s\uFF09" aria-hidden="true">#</a></h2><pre><code>\`\`\`javascript
  // \u5728main.ts\u6587\u4EF6\u4E2D\u5F15\u5165
  const Emittery = require(&#39;emittery&#39;);

  // \u6CE8\u5165\u5168\u5C40\u51FD\u6570\u4E2D
  app = createApp(App);
  const emitter = new Emittery();
  app.config.globalProperties.$emmitter = emitter

  // \u5B9A\u4E49\u4E8B\u4EF6
  const instance = getCurrentInstance() // \u5FC5\u987B\u5728setup\u6216\u8005\u751F\u547D\u5468\u671F\u51FD\u6570\u4E2D\u8C03\u7528\uFF0C\u7136\u540E\u4F7F\u7528instance
  const mitt = instance.appContext.config.globalProperties.$emmitter
  mitt.on(&#39;foo&#39;, (value) =&gt; {
    console.log(&#39;foo&#39;, value )
    getList()
  });

  // \u76D1\u542C\u8C03\u7528\u4E8B\u4EF6
  const instance = getCurrentInstance()
  const mitt = instance.appContext.config.globalProperties.$emmitter
  mitt.emit(&#39;foo&#39;, (value) =&gt; {
    console.log(&#39;foo&#39;, value)
  });
\`\`\`
</code></pre><h2 id="defineexpose-\u5C06\u5B50\u7EC4\u4EF6\u65B9\u6CD5\u6216\u5C5E\u6027\uFF0C\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u8C03\u7528" tabindex="-1">defineExpose \u5C06\u5B50\u7EC4\u4EF6\u65B9\u6CD5\u6216\u5C5E\u6027\uFF0C\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u8C03\u7528 <a class="header-anchor" href="#defineexpose-\u5C06\u5B50\u7EC4\u4EF6\u65B9\u6CD5\u6216\u5C5E\u6027\uFF0C\u66B4\u9732\u7ED9\u7236\u7EC4\u4EF6\u8C03\u7528" aria-hidden="true">#</a></h2><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;">// \u5B50\u7EC4\u4EF6\u4EE3\u7801 child.vue</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> isFlag </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;"> (</span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> testFunction </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">     </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u8C03\u7528\u5B50\u7EC4\u4EF6\u7684\u65B9\u6CD5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">   </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">defineExpose</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">     isFlag</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">     testFunction</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;">// \u5728\u7236\u7EC4\u4EF6\u4E2D\u8C03\u7528</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">child</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">refChild</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">   import child from &#39;./child.vue&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">   import  </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ref</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> onMounted </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;vue&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">   let refChild = ref(null)</span></span>
<span class="line"><span style="color:#A6ACCD;">   onMounted(() =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">     console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(refChild</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">refChild</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">     </span><span style="color:#676E95;">//\u8FBE\u5230\u8C03\u7528\u5B50\u7EC4\u4EF6\u7684\u5C5E\u6027\u548C\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">     const </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> isFlag</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> testFunction</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> refChild</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="vue3-keepalive-\u7F13\u5B58" tabindex="-1">vue3 keepalive \u7F13\u5B58 <a class="header-anchor" href="#vue3-keepalive-\u7F13\u5B58" aria-hidden="true">#</a></h2><pre><code>\`\`\`javascript
  https://juejin.cn/post/7018508057793691656
  \u9875\u9762\u7B2C\u4E00\u6B21\u8FDB\u5165\u7684\u65F6\u5019\uFF0C\u94A9\u5B50\u89E6\u53D1\u987A\u5E8F\u65F6created-&gt;mounted-&gt;activated\uFF0C\u6240\u4EE5\u522B\u5728mounted\u548Cactivated\u65B9\u6CD5\u4E2D\u5199\u76F8\u540C\u7684\u903B\u8F91\u4EE3\u7801

\`\`\`
</code></pre>`,21),e=[o];function t(c,r,D,F,y,A){return n(),a("div",null,e)}const u=s(p,[["render",t]]);export{i as __pageData,u as default};
